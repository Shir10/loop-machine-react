(this["webpackJsonploop-machine-react"]=this["webpackJsonploop-machine-react"]||[]).push([[0],{29:function(t,n,a){},30:function(t,n,a){},31:function(t,n,a){},32:function(t,n,a){},36:function(t,n,a){"use strict";a.r(n);var e=a(2),r=a(0),s=a.n(r),o=a(12),c=a.n(o),i=a(3),u=a(9),p={app:{},padsContainer:{padsStatusArray:[]},pad:{},recorder:{isRecording:!1}},d=a(4),l={LOAD_PADS_STATUS:"LOAD_PADS_STATUS"},A={CHANGE_PAD_STATUS:"CHANGE_PAD_STATUS",HANDLE_TIME_UPDATE:"HANDLE_TIME_UPDATE",IGNORE_TIME_UPDATE:"IGNORE_TIME_UPDATE"},h="stopping",b="pending",S="playing",j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.padsContainer,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case l.LOAD_PADS_STATUS:case A.CHANGE_PAD_STATUS:case A.HANDLE_TIME_UPDATE:return Object(d.a)(Object(d.a)({},t),{},{padsStatusArray:n.payload.padsStatusArray});default:return t}},O=Object(u.b)({padsContainer:j}),f=Object(u.c)(O,p,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),T=(a(29),a(5)),_=a(6),y=a(8),E=a(7);a(30),a(31),a(32);function m(t){return document.getElementById("audio-"+t)}function D(t){return t.map((function(n,a){if(t[a]===b){var e=m(a+1);return e.play(),e.loop=!0,S}return n}))}var v={changePadStatusAction:function(t,n){var a,e=m(n);switch(t[n-1]){case h:t.includes(S)||t.includes(b)?a=b:(a=S,e.play(),e.loop=!0);break;case b:a=h;break;case S:e.pause(),e.currentTime=0,a=h,1===t.filter((function(t){return t===S})).length&&(t=D(t))}var r=t.map((function(t,e){return e===n-1?a:t}));return{type:A.CHANGE_PAD_STATUS,payload:{padsStatusArray:r}}},handleTimeUpdateAction:function(t,n){var a=m(n);if(0===a.currentTime&&!1===a.paused){var e=D(t);return{type:A.HANDLE_TIME_UPDATE,payload:{padsStatusArray:e}}}return{type:A.IGNORE_TIME_UPDATE}}},P=a(19),g=a(17),N=function(t){Object(y.a)(a,t);var n=Object(E.a)(a);function a(){return Object(T.a)(this,a),n.apply(this,arguments)}return Object(_.a)(a,[{key:"getButtonClasses",value:function(){return this.props.padsStatusArray[this.props.id-1]!==h?"pad-btn stop-btn":"pad-btn play-btn"}},{key:"getButtonIcon",value:function(){return this.props.padsStatusArray[this.props.id-1]!==h?g.b:g.a}},{key:"render",value:function(){var t=this;return Object(e.jsxs)("div",{id:"pad-"+this.props.id,className:"pad",children:[Object(e.jsxs)("h3",{className:"pad-title",children:["Loop ",this.props.id]}),Object(e.jsx)("button",{className:this.getButtonClasses(),onClick:function(){return t.props.changePadStatus(t.props.padsStatusArray,t.props.id)},children:Object(e.jsx)(P.a,{className:"pad-icon-btn",icon:this.getButtonIcon()})}),Object(e.jsx)("audio",{id:"audio-"+this.props.id,className:"audio-element",onTimeUpdate:function(){return t.props.handleTimeUpdate(t.props.padsStatusArray,t.props.id)},children:Object(e.jsx)("source",{src:"/loop-machine-react/loop_samples/loop-"+this.props.id+".mp3"})})]})}}]),a}(r.Component),U=Object(i.b)((function(t){return{padsStatusArray:t.padsContainer.padsStatusArray}}),(function(t){return{changePadStatus:function(n,a){t(v.changePadStatusAction(n,a))},handleTimeUpdate:function(n,a){t(v.handleTimeUpdateAction(n,a))}}}))(N);var C={loadPadsStatusAction:function(){for(var t=[],n=0;n<9;n++)t.push(h);return{type:l.LOAD_PADS_STATUS,payload:{padsStatusArray:t}}}},I=function(t){Object(y.a)(a,t);var n=Object(E.a)(a);function a(){return Object(T.a)(this,a),n.apply(this,arguments)}return Object(_.a)(a,[{key:"componentDidMount",value:function(){this.props.loadPadsStatus()}},{key:"render",value:function(){return Object(e.jsx)("div",{className:"padsContainer",children:this.props.padsStatusArray.map((function(t,n){return Object(e.jsx)(U,{id:n+1})}))})}}]),a}(r.Component),x=Object(i.b)((function(t){return{padsStatusArray:t.padsContainer.padsStatusArray}}),(function(t){return{loadPadsStatus:function(){t(C.loadPadsStatusAction())}}}))(I),L=function(t){Object(y.a)(a,t);var n=Object(E.a)(a);function a(){return Object(T.a)(this,a),n.apply(this,arguments)}return Object(_.a)(a,[{key:"render",value:function(){return Object(e.jsxs)("div",{className:"app",children:[Object(e.jsx)("h1",{children:"Loop Machine"}),Object(e.jsx)(x,{})]})}}]),a}(r.Component),k=Object(i.b)()(L),M=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,37)).then((function(n){var a=n.getCLS,e=n.getFID,r=n.getFCP,s=n.getLCP,o=n.getTTFB;a(t),e(t),r(t),s(t),o(t)}))};c.a.render(Object(e.jsx)(s.a.StrictMode,{children:Object(e.jsx)(i.a,{store:f,children:Object(e.jsx)(k,{})})}),document.getElementById("root")),M()}},[[36,1,2]]]);
//# sourceMappingURL=main.15006de0.chunk.js.map